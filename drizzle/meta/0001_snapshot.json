{
  "id": "eaa0eb67-e08f-40f4-b25d-2cf7f4304107",
  "prevId": "1651c2e5-a056-46bb-be01-627b1fadc8af",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "predictify.acca_history": {
      "name": "acca_history",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "selections": {
          "name": "selections",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "combined_odds": {
          "name": "combined_odds",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "stake": {
          "name": "stake",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "potential_return": {
          "name": "potential_return",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ai_recommendation": {
          "name": "ai_recommendation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "acca_status",
          "typeSchema": "predictify",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "settled_at": {
          "name": "settled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "acca_history_user_id_users_id_fk": {
          "name": "acca_history_user_id_users_id_fk",
          "tableFrom": "acca_history",
          "tableTo": "users",
          "schemaTo": "predictify",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "predictify.credit_transactions": {
      "name": "credit_transactions",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "transaction_type",
          "typeSchema": "predictify",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "balance_after": {
          "name": "balance_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_transactions_user_id_users_id_fk": {
          "name": "credit_transactions_user_id_users_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "users",
          "schemaTo": "predictify",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "predictify.gameweeks": {
      "name": "gameweeks",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "league_id": {
          "name": "league_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "season_id": {
          "name": "season_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "number": {
          "name": "number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "gameweek_status",
          "typeSchema": "predictify",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "predictify.league_standings": {
      "name": "league_standings",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "league_id": {
          "name": "league_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "season_id": {
          "name": "season_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "team_name": {
          "name": "team_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "team_logo": {
          "name": "team_logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "played": {
          "name": "played",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "won": {
          "name": "won",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "drawn": {
          "name": "drawn",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lost": {
          "name": "lost",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "goals_for": {
          "name": "goals_for",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "goals_against": {
          "name": "goals_against",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "goal_difference": {
          "name": "goal_difference",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "points": {
          "name": "points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "predictify.match_predictions": {
      "name": "match_predictions",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "gameweek_id": {
          "name": "gameweek_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fixture_id": {
          "name": "fixture_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "home_team": {
          "name": "home_team",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "away_team": {
          "name": "away_team",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "home_win_prob": {
          "name": "home_win_prob",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "draw_prob": {
          "name": "draw_prob",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "away_win_prob": {
          "name": "away_win_prob",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "predicted_score": {
          "name": "predicted_score",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prediction": {
          "name": "prediction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "home_goals": {
          "name": "home_goals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "away_goals": {
          "name": "away_goals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "log_loss": {
          "name": "log_loss",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "correct": {
          "name": "correct",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "match_predictions_gameweek_id_gameweeks_id_fk": {
          "name": "match_predictions_gameweek_id_gameweeks_id_fk",
          "tableFrom": "match_predictions",
          "tableTo": "gameweeks",
          "schemaTo": "predictify",
          "columnsFrom": [
            "gameweek_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "predictify.pipeline_runs": {
      "name": "pipeline_runs",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "gameweek_name": {
          "name": "gameweek_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "pipeline_step",
          "typeSchema": "predictify",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "pipeline_step_status",
          "typeSchema": "predictify",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "predictify.prediction_views": {
      "name": "prediction_views",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fixture_id": {
          "name": "fixture_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "league_id": {
          "name": "league_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "credits_used": {
          "name": "credits_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "prediction_views_user_id_users_id_fk": {
          "name": "prediction_views_user_id_users_id_fk",
          "tableFrom": "prediction_views",
          "tableTo": "users",
          "schemaTo": "predictify",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "predictify.users": {
      "name": "users",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tier": {
          "name": "tier",
          "type": "tier",
          "typeSchema": "predictify",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "credits": {
          "name": "credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "has_api_access": {
          "name": "has_api_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "daily_credits_last_reset": {
          "name": "daily_credits_last_reset",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "monthly_credits_last_reset": {
          "name": "monthly_credits_last_reset",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "favorite_leagues": {
          "name": "favorite_leagues",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[8]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "predictify.weekly_metrics": {
      "name": "weekly_metrics",
      "schema": "predictify",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "gameweek_id": {
          "name": "gameweek_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "league_id": {
          "name": "league_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "accuracy": {
          "name": "accuracy",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_log_loss": {
          "name": "avg_log_loss",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "brier_score": {
          "name": "brier_score",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "predictions": {
          "name": "predictions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "correct": {
          "name": "correct",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "weekly_metrics_gameweek_id_gameweeks_id_fk": {
          "name": "weekly_metrics_gameweek_id_gameweeks_id_fk",
          "tableFrom": "weekly_metrics",
          "tableTo": "gameweeks",
          "schemaTo": "predictify",
          "columnsFrom": [
            "gameweek_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "predictify.acca_status": {
      "name": "acca_status",
      "schema": "predictify",
      "values": [
        "pending",
        "won",
        "lost",
        "partial"
      ]
    },
    "predictify.gameweek_status": {
      "name": "gameweek_status",
      "schema": "predictify",
      "values": [
        "pending",
        "ingested",
        "researched",
        "predicted",
        "evaluated"
      ]
    },
    "predictify.pipeline_step": {
      "name": "pipeline_step",
      "schema": "predictify",
      "values": [
        "ingest",
        "research",
        "predict",
        "evaluate",
        "report"
      ]
    },
    "predictify.pipeline_step_status": {
      "name": "pipeline_step_status",
      "schema": "predictify",
      "values": [
        "pending",
        "running",
        "completed",
        "failed",
        "skipped"
      ]
    },
    "predictify.tier": {
      "name": "tier",
      "schema": "predictify",
      "values": [
        "free",
        "pro",
        "gold"
      ]
    },
    "predictify.transaction_type": {
      "name": "transaction_type",
      "schema": "predictify",
      "values": [
        "deduct",
        "redeem",
        "purchase",
        "subscription",
        "refund"
      ]
    }
  },
  "schemas": {
    "predictify": "predictify"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}